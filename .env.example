# ===========================================
# Configuration Family Cloud (Immich + Seafile + Stalwart)
# ===========================================
# Copiez ce fichier en .env et remplissez les valeurs
# cp .env.example .env
# chmod 600 .env  # IMPORTANT: Restreindre les permissions!

# ===========================================
# Domaines (configurer dans Cloudflare Tunnel)
# ===========================================
IMMICH_DOMAIN=photos.fvienot.link
SEAFILE_DOMAIN=files.fvienot.link
STALWART_DOMAIN=mail.fvienot.link

# ===========================================
# Cloudflare Tunnel
# ===========================================
# Token recupere depuis Zero Trust → Networks → Tunnels
CLOUDFLARE_TUNNEL_TOKEN=votre_token_cloudflare

# ===========================================
# IMMICH - Photos/Videos
# ===========================================
# Version d'Immich (laisser "release" pour la derniere stable)
IMMICH_VERSION=release

# Chemin local pour stocker les photos/videos
# IMPORTANT: Utiliser un disque avec beaucoup d'espace
UPLOAD_LOCATION=/home/user/immich/upload

# Base de donnees PostgreSQL pour Immich
IMMICH_DB_USER=immich
IMMICH_DB_NAME=immich
# Generer avec: openssl rand -base64 32
IMMICH_DB_PASSWORD=CHANGEZ_MOI_MOT_DE_PASSE_IMMICH_DB

# ===========================================
# SEAFILE - Fichiers
# ===========================================
# Compte administrateur
SEAFILE_ADMIN_EMAIL=admin@fvienot.link
# Generer avec: openssl rand -base64 24
SEAFILE_ADMIN_PASSWORD=CHANGEZ_MOI_MOT_DE_PASSE_SEAFILE

# Base de donnees MariaDB pour Seafile
# Generer avec: openssl rand -base64 32
SEAFILE_DB_ROOT_PASSWORD=CHANGEZ_MOI_MOT_DE_PASSE_DB_ROOT

# ===========================================
# STALWART - CalDAV/CardDAV/Mail
# ===========================================
# La configuration initiale se fait via l'interface web
# au premier demarrage sur /setup

# ===========================================
# Cloudflare R2 (Backup avec Rclone)
# ===========================================
# Trouvez ces infos dans le dashboard Cloudflare R2
R2_ACCESS_KEY_ID=votre_access_key_id
R2_SECRET_ACCESS_KEY=votre_secret_access_key
R2_ENDPOINT=https://ACCOUNT_ID.r2.cloudflarestorage.com
R2_BUCKET_NAME=family-backup

# ===========================================
# Chiffrement des backups (optionnel)
# ===========================================
# Generer avec: openssl rand -base64 32
# Laisser vide = pas de chiffrement cote client
BACKUP_ENCRYPTION_KEY=

# ===========================================
# Chemins locaux
# ===========================================
# Chemin local pour les backups temporaires
BACKUP_PATH=/home/user/family-cloud/backups

# ===========================================
# Options avancees
# ===========================================
# Nombre de jours de retention des backups
BACKUP_RETENTION_DAYS=30
# Timezone
TZ=Europe/Paris
